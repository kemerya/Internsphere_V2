<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Report Viewing System</title>
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
    rel="stylesheet"
  >
  <style>
    .container {
      margin-top: 50px;
    }
    .table-container {
      margin-bottom: 30px;
    }
    .report-details {
      padding: 20px;
      background-color: #f9f9f9;
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }
    .report-details h4 {
      color: blueviolet;
      margin-bottom: 20px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2 class="text-center mb-4">Submitted Reports</h2>
    <div class="table-container">
      <table class="table table-striped table-hover">
        <thead class="table-dark">
          <tr>
            <th>#</th>
            <th>Student Name</th>
            <th>Student ID</th>
            <th>Start Date</th>
            <th>End Date</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="report-table-body">
          <!-- Rows will be populated dynamically -->
        </tbody>
      </table>
    </div>
    <div class="report-details" id="report-details">
      <h4>Report Details</h4>
      <div id="details-content">
        <p>Select a report to view its details.</p>
      </div>
    </div>
  </div>

  <script>
    // Example data for reports (replace this with data fetched from a backend)
    const reports = [
      {
        id: 1,
        student_name: "Kemerya Zeynu",
        student_id: "CS2024-001",
        start_date: "2024-12-01",
        end_date: "2024-12-14",
        cumulative_hours: 40,
        assignment_responsibilities: "Worked on Vue.js booking system project.",
        critical_analysis: "Improved understanding of state management.",
        observing_hours: 5,
        planning_hours: 10,
        assisting_hours: 15,
        heading_hours: 10,
        meetings_discussions: "Discussed milestones and team roles.",
        course_relevance_suggestions: "Add more project management topics."
      },
      {
        id: 2,
        student_name: "Aliya Ahmed",
        student_id: "CS2024-002",
        start_date: "2024-11-15",
        end_date: "2024-11-30",
        cumulative_hours: 35,
        assignment_responsibilities: "Analyzed customer feedback for improvements.",
        critical_analysis: "Gained insights into data visualization tools.",
        observing_hours: 4,
        planning_hours: 12,
        assisting_hours: 10,
        heading_hours: 9,
        meetings_discussions: "Evaluated team progress in weekly meetings.",
        course_relevance_suggestions: "More focus on advanced analytics."
      }
    ];

    // Populate the table dynamically
    function populateTable() {
      const tableBody = document.getElementById("report-table-body");
      tableBody.innerHTML = ""; // Clear table before populating

      reports.forEach((report, index) => {
        const row = document.createElement("tr");
        row.innerHTML = `
          <td>${index + 1}</td>
          <td>${report.student_name}</td>
          <td>${report.student_id}</td>
          <td>${report.start_date}</td>
          <td>${report.end_date}</td>
          <td><button class="btn btn-primary btn-sm" onclick="viewReport(${report.id})">View</button></td>
        `;
        tableBody.appendChild(row);
      });
    }

    // Display report details
    function viewReport(reportId) {
      const report = reports.find(r => r.id === reportId);
      const detailsContent = document.getElementById("details-content");

      if (report) {
        detailsContent.innerHTML = `
          <p><strong>Student Name:</strong> ${report.student_name}</p>
          <p><strong>Student ID:</strong> ${report.student_id}</p>
          <p><strong>Start Date:</strong> ${report.start_date}</p>
          <p><strong>End Date:</strong> ${report.end_date}</p>
          <p><strong>Cumulative Hours:</strong> ${report.cumulative_hours}</p>
          <p><strong>Assignment & Responsibilities:</strong> ${report.assignment_responsibilities}</p>
          <p><strong>Critical Analysis:</strong> ${report.critical_analysis}</p>
          <p><strong>Observing Hours:</strong> ${report.observing_hours}</p>
          <p><strong>Planning Hours:</strong> ${report.planning_hours}</p>
          <p><strong>Assisting Hours:</strong> ${report.assisting_hours}</p>
          <p><strong>Heading Hours:</strong> ${report.heading_hours}</p>
          <p><strong>Meetings & Discussions:</strong> ${report.meetings_discussions}</p>
          <p><strong>Course Relevance & Suggestions:</strong> ${report.course_relevance_suggestions}</p>
        `;
      } else {
        detailsContent.innerHTML = `<p>No report found for ID: ${reportId}</p>`;
      }
    }

    // Initialize the page
    populateTable();
  </script>
</body>
</html>
